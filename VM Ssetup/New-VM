#Hvor starter vi med å sette opp et VM?

#Get-VM

<#
Du vil da få en liste som dette om du har noen VM satt opp allerede. 
Om det er tomt, så har du ingen VM satt opp. 
Name                   State CPUUsage(%) MemoryAssigned(M) Uptime   Status               Version
----                   ----- ----------- ----------------- ------   ------               -------
pfSense                Off   0           0                 00:00:00 Fungerer som normalt 9.0
Server                 Off   0           0                 00:00:00 Fungerer som normalt 9.0
Suse Desktop           Off   0           0                 00:00:00 Fungerer som normalt 9.0
Tanking                Off   0           0                 00:00:00 Fungerer som normalt 9.0
Windows 10 Demo Klient Off   0           0                 00:00:00 Fungerer som normalt 9.0
Windows Klient         Off   0           0                 00:00:00 Fungerer som normalt 9.0

Så kan vi sette opp et nytt VM på en enkel måte.
#>
$vmname = (Read-Host -Prompt 'Skiv inn navnet på din virtuelle  maskin') #Hva skal den virtuelle maskinen hete?
$mem = 2147483648 #Hvor mye minne skal du gi til maskinen?
$switch = 'Default Switch'
$vhdpath = 'E:\VirtualMachines\Hyper-V\Virtual hard disks' #Lokasjonen for den virtuelle harddisken
$dvd = 'F:\ISO\en-us_windows_server_2022_x64_dvd_620d7eac.iso' #Bane til ISO filen som har operativsystemet

New-VM -Name $vmname -MemoryStartupBytes $mem -SwitchName $switch -NewVHDPath $vhdpath\$vmname.vhdx -NewVHDSizeBytes 256GB  -Generation 2

Set-VMMemory -VMName $vmname -DynamicMemory $true 

Set-VM -Name $vmname -ProcessorCount 2 -DynamicMemory -Notes 'Dette er en Virtuell maskin for generelt bruk'
Add-VMScsiController -VMName $vmname
Add-VMDvdDrive -VMName $vmname -ControllerNumber 1 -Path $dvd 

